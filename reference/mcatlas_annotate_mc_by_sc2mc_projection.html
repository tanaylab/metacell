<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Annotate query metacell with atlas by comparing query cells to atlas MCs — mcatlas_annotate_mc_by_sc2mc_projection • metacell</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Annotate query metacell with atlas by comparing query cells to atlas MCs — mcatlas_annotate_mc_by_sc2mc_projection" />
<meta property="og:description" content="This will take each cell in the query MC and find its to correlated
metacell in the reference, then generating figures showing detailed comparison of how each metacell in the query is distributed in the atlas, and how the pool of all cells in the query MC compare to the pool of their best match projections" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metacell</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/a-basic_pbmc8k.html">Usage</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Core</li>
    <li>
      <a href="../articles/a-basic_pbmc8k.html">Running metacell analysis: guided tutorial on 8K PBMCs</a>
    </li>
    <li>
      <a href="../articles/b-geneset_by_anchor_pbmc8k.html">Supervised filtering of feature genes: guided tutorial on 8K PBMCs</a>
    </li>
    <li>
      <a href="../articles/c-metacell_annotation.html">Annotation of metacells</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Misc</li>
    <li>
      <a href="../articles/d-amphimedon.html">Analyzing whole-organism scRNA-seq data with metacell</a>
    </li>
    <li>
      <a href="../articles/e-data_convert.html">UMI matrix conversion to standard formats</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a></a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Annotate query metacell with atlas by comparing query cells to atlas MCs</h1>
    <small class="dont-index">Source: <a href='https://github.com/tanaylab/metacell/blob/master/R/atlas.r'><code>R/atlas.r</code></a></small>
    <div class="hidden name"><code>mcatlas_annotate_mc_by_sc2mc_projection.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This will take each cell in the query MC and find its to correlated
metacell in the reference, then generating figures showing detailed comparison of how each metacell in the query is distributed in the atlas, and how the pool of all cells in the query MC compare to the pool of their best match projections</p>
    </div>

    <pre class="usage"><span class='fu'>mcatlas_annotate_mc_by_sc2mc_projection</span>(
  <span class='no'>atlas_id</span>,
  <span class='no'>qmat_id</span>,
  <span class='no'>qmc_id</span>,
  <span class='no'>qmat_naming_type</span>,
  <span class='kw'>fig_cmp_dir</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>q_gset_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>new_qmc_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>atlas_mc2d_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>plot_all_mcs</span> <span class='kw'>=</span> <span class='no'>F</span>,
  <span class='kw'>md_field</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>max_entropy</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>burn_cor</span> <span class='kw'>=</span> <span class='fl'>0.6</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>atlas_id</th>
      <td><p>id of atlas object in scdb</p></td>
    </tr>
    <tr>
      <th>qmat_id</th>
      <td><p>id of metacell object ina scdb</p></td>
    </tr>
    <tr>
      <th>qmc_id</th>
      <td><p>id of metacell object ina scdb</p></td>
    </tr>
    <tr>
      <th>qmat_naming_type</th>
      <td><p>naming scheme of query matrix/mc</p></td>
    </tr>
    <tr>
      <th>fig_cmp_dir</th>
      <td><p>name of directory to put figures per MC</p></td>
    </tr>
    <tr>
      <th>q_gset_id</th>
      <td><p>query gene set id object (optional) - to restrict features used in comaprison to the intersection of atlas and query gsets</p></td>
    </tr>
    <tr>
      <th>md_field</th>
      <td><p>metadata field too use as additional factor for plotting subsets</p></td>
    </tr>
    <tr>
      <th>recolor_mc_id</th>
      <td><p>if this is specified,  the atlas colors will be projected on the query MCCs and updated to the scdb object  named recolor_mc</p></td>
    </tr>
    <tr>
      <th>plot_all_mc</th>
      <td><p>set this to T if you want a plot per metacell to show comparison of query pooled umi's and projected pooled umis.</p></td>
    </tr>
    </table>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://compgenomics.weizmann.ac.il/tanay/'>Amos Tanay</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


